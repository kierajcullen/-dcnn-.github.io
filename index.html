<!DOCTYPE HTML>
<html>
	<head>
		<title>Convolutional Neural Network Accelerator</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="homepage is-preload">
		<div id="page-wrapper">

			<!-- Header -->
				<div id="header">

					<!-- Inner -->
						<div class="inner">
							<header>
								<h1><a href="index.html" id="logo">Convolutional Neural Network Accelerator</a></h1>
								<hr />
								<p>The College of New Jersey, Class of 2020</p>
							</header>
							<footer>
								<a href="#banner" class="button circled scrolly">Continue</a>
							</footer>
						</div>

					<!-- Nav -->
						<nav id="nav">
							<ul>
								<li><a href="index.html">Home</a></li>
								<li><a href="https://dcnn-accelerator.github.io/docs/">Documentation</a></li>
								<li><a href="right-sidebar.html">Work Breakdown</a></li>
								<li><a href="no-sidebar.html">Meet Our Team</a></li>
							</ul>
						</nav>

				</div>

			<!-- Banner -->
				<section id="banner">
				<div>
					<h2><a href="#">Introduction</a></h2>
					<header>
						<p>
						Our team designed a system for accelerating the core operations required by DCNNs, 
						by using a low-cost Field Programmable Gate Array (FPGA) platform. We designed an 
						end-to-end accelerator platform, including a PC running Linux, an FPGA board and PC-to-FPGA 
						communication via serial data (over USB). The ultimate goal of our project is build high level architecture 
						that could be implemented on a cheap piece of hardware.
						</p>					
					</header>	
				</section>
				</div>
				</article>

			</div>

				<div class="wrapper style2">
					<header>
					<article id="main" class="container special">
						<a href="#" class="image featured"><img src="images/pic06.jpg" alt="" /></a>
						<header>
							<p>
								Source: https://ieeeaccess.ieee.org/featured-articles/neuralnetwork_smartphone/ 
							</p>
							<h2><a href="#">Project Overview</a></h2>
							<p>
								Deep Convolutional Neural Networks (DCNNs) have made significant progress in approaching a
								wide range of problems in the general area of computer vision. However, they generally require
								enormous computational resources and are therefore difficult to deploy in real-time systems. To
								address this problem, we designed a system for accelerating the core operations required by DCNNs,
								by using a low-cost Field Programmable Gate Array (FPGA) platform. We designed an end-to-end
								accelerator platform, including a PC running Linux, an FPGA board and PC-to-FPGA communication via
								serial data (over USB). We designed a hardwired convolution processor using custom fixed-point
								multipliers, and a software handler for sending and reconstructing images. Using custom Verilog/VHDL
								RTL descriptions and C# software, we aim to exploit the parallelism inherent to FPGAs for high-speed
								acceleration.
							</p>
						</header>
					</article>
				</header>

				</div>
			<div>
			
			<!-- Banner -->
			<section id="banner">
				<div>
					<header>
					<h2>Notes and Updates</h2>
					</header>
				</section>
			</div>

			<!-- Carousel -->
			<section class="carousel">
				<div class="reel">
					<article>
						<header>
							<h3><a href="#">April 20, 2020</a></h3>
						</header>
						<ol> <dt>
							<ul>
								<li>Instability at 6MB</li>
								<li>Output data does not make sense</li>	
								<li>Finite size repo for everything so we can't let too much data collect before emptying it</li>
									<ul>
										<li>Handshaking could fix this, exclussively tried RTS</li>
										<li>Xon Xoff, software flow control, control sequence coming from the computer and it is difficult to add functionality and clear data</li>
										<li>Slower byte by byte version is working, difficult to debug without a scope</li>
									</ul>
								<li>Latency determined by the host PC, new laptop worked quickly, trying one byte at a time</li>
								<ul>
									<li>Never got to packeting, focus was on handshaking</li>
								</ul>
								<li>Wrapped everything into one package</li>
								<ul>
									<li>Streamline python application that does everything for you</li>
								</ul>
								<li>Research Amdahl's Law</li>
								<ul>
								<li>Analysis or process, speed up some part of the process, non parallelizable piece that is slow, gives you best case speed up, leaves one piece standar</li>
								<li>Piece of hardware runs faster than pc; however, non parallelizable piece, bottlenecked, interface
								</li>
							</ul>
							</dt>
						</ol>
					</article>

					<article>
						<header>
							<h3><a href="#">April 13, 2020</a></h3>
						</header>
						<ol> <dt>
							<ul>
								<li>Cut run time down to 4 minutes which is too slow; however, altered c sharp which is successful</li>
								<li>Send 500-600 bytes, give the fpga time to read that, and go from there</li>	
								<li>When you did the sending 512x512 +29, were you using two different processes</li>
									<ul>
										<li>Launch two different applications, conflicts with ports, could send but did not read</li>
									</ul>
								<li>Configure to be any depth you want</li>
								<li>Rebuffer property</li>
								<ul>
									<li>Pushed sequential and write everything at once, version one in git</li>
									<li>Version 2: The output might be garbage, or the bytes are out of order</li>
								</ul>
								<li>Latency issue with software, look into that this week</li>
								<li>Use proper flow control</li>
								<li>Document what the goal and importance of the project is</li>
							 </dt>
						</ol>
					</article>

					<article>
						<header>
							<h3><a href="#">April 6, 2020</a></h3>
						</header>
						<ol> <dt>
							<ul>
								<li>Goal is to finish the project this week</li>
									<ul>
										<li>Make the software more user friendly so testing is easier</li>
									</ul>
								<li>ILB will go to 512</li>
								<li>Ryan worked on dynamic code, trying to generate HLS script, crashes when running tickle script</li>
								<ul>
									<li>Debugging the tickle for parameterization</li>
								</ul>
								<li>Working on MatLab, issues with code, edge output values were off</li>
								<li>Generate IP, upload in vivado design</li>
								<li>Clock cycle where valid is asserted, output data is only valid for one cycle</li>
								<li>A*B+C</li>
								<li>Long latency = a lot of flip flops being used</li>
							</ul>
							 </dt>
						</ol>
					</article>

					<article>
						<header>
							<h3><a href="#">March 30, 2020</a></h3>
						</header>
						<ol> <dt>
							<ul>
								<li>Outlined documentation </li>
								<li>Posted the website to the GitHub</li>
									<ul>
										<li>Kiera is hosting it from her git, used git pages; however, this week
											will be working on MKdocs</li>
									</ul>
								<li>Hussain juggled a couple things this week, waited for software from Paul</li>
								<ul>
									<li>Can run tests on the FPGA</li>
									<li>Run simulation on Linux and the board, see if we can get data, wrote MatLab to 
										compare board outputs with the expected</li>
									<li>Installed new version of Vivado to run the software</li>
								</ul>
								<li>Ryan has been trying to make a dynamic version of everything</li>
								<ul>
									<li>Created a tickle script</li>
									<li>Report about the future applications of the DCNN, brief slideshow presentations</li>
								</ul>
								<li>Note: Convolution Accelerator: Kernels uses correlation not convolution, which is more 
									common in the neural processing world.</li>
							</ul>
							 </dt>
						</ol>
					</article>

					<article>
						<header>
							<h3><a href="#">March 23, 2020</a></h3>
						</header>
						<ol> <dt>
							<ul>
								<li>Update Git </li>
								<li> Ryan and Hussain simulated the hardware design end to end
									<ul>
										<li>Issue: The simulation crashes after 2 hours, could relate to overflow</li>
										<li>Scripts were written to make sure it is true to the convolution</li>
									</ul>
								<li>Final Report</li>
									<ul>
										<li>Finalize documentation over the next few weeks</li>
										<li>Potentially add systems engineering methodology</li>
									</ul>
								<li> Generate tickle script and look to design something more dynamic</li>
							</ul>
							</dt>
						</ol>
					</article>

					<article>
						<header>
							<h3><a href="#">March 9, 2020</a></h3>
						</header>
						<ol> 
						<dt>	
							<ul>
							<li>C++ code is complete</li>
							<li> C++ test bench
								<ul>
									<li>DSP slices: 44</li>
									<li>7x7, 49 multiplications</li>
									<li>Possibly a pipelining issue</li>
									<li>Max throughput: 1 per 20 cycles</li>
								</ul>
							<li>Final Report</li>
								<ul>
									<li>Finalize documentation over the next few weeks</li>
									<li>Potentially add systems engineering methodology</li>
								</ul>
							<li>Issue with the UART and final design and synthesis didn't use DSP slice</li>
							</ul>
						</dt>
						</ol>
					</article>

					<article>
						<header>
							<h3><a href="#">March 2, 2020</a></h3>
						</header>
						<ol> <dt> 
							<ul> 
									<li>Software has read in the kernel, read in the image and sent back the convolved image</li>
								<ul>
									<li>Temp data has come in</li>
								</ul>
									<li>Where are you writing the data in?</li>
								<ul>
									<li>Saving to an array</li>	
									<li>Could be a challenge to debug</li>
									<li>Use the echo</li>
								</ul>
									<li>In band or out of band framing</li>
								<ul>
									<li>Potentially create an escape code in C/C++</li>
								</ul>
									<li>Hussain helped Paul with the software</li>
								<ul>
									<li>Building the tickle script, has not finished yet</li>
								</ul>
							</ul>
							 </dt>
						</ol>
					</article>

					<article>
						<header>
							<h3><a href="#">February 24, 2020</a></h3>
						</header>
						<ol> 
				<dt> 
					<ul> 
							<li>Tickle scripting and wave debugging</li>
						<ul>
							<li>To build block design</li>
							<li>Push source files to git</li>
							<li>Everytime you ran a simulation, it sources a tickle file but it 
								likely exists outside of the project directory</li>
							<li>Now that we know the nerel will load, add more modules and test it end to end</li>
						</ul>
							<li>Tested the convolution block, whether it cooperates with the master controller</li>
						<ul>
							<li>Want a working simulation built and debugged</li>	
							<li>Could be a challenge to debug</li>
							<li>Use the echo</li>
						</ul>
							<li>Finish the software this week</li>
						<ul>
							<li>Look at the compatibility of the next generation Nexys board</li>
						</ul>
							<li>Test CPU performance vs actual performance</li>
						<ul>
							<li>Create a testbench, sending information in and look at the throughput</li>
						</ul>
					</ul> 
				</dt>
						</ol>
					</article>

					<article>
						<header>
							<h3><a href="#">February 17, 2020</a></h3>
						</header>
						<ol> <dt>
							<ul> 
								<li>More verification, SoPU changes have been made</li>
							<ul>
								<li>Tested with floating point numbers in MatLab</li>
							<ul>
								<li>Ryan will take care of test benches</li>
								<li>Results should be virtually the same as floating point</li>
							</ul>
							</ul>	
								<li>Figure out a way to recompile HLS in command line</li>
							<ul>
								<li>Write shell script</li>
							</ul>
								<li>HLS is in parallel, automatically maps the individual multipliers</li>
						</ul> 
						</dt>
						</ol>
					</article>

					<article>
						<header>
							<h3><a href="#">February 10, 2020</a></h3>
						</header>
						<ol> <dt>
							<ul> 
								<li>Update SoPU RTL based on MATLAB changes</li>
								<li>Do vivado simulations for SoPU interface</li>
								<li>Powershell works now with serial interface</li>
								<li>Attempt MATLAB test on linux server, otherwise translate to C++</li>
								<li>Got arbitrary size array to stream working</li>
								<li>Trouble with multiprocessing, but isn’t an issue anymore because of how powershell script works</li>
						</ul> 
						</dt>
						</ol>
					</article>


					<article>
						<header>
							<h3><a href="#">February 3, 2020</a></h3>
						</header>
						<ol> <dt> 
							<ul>
								<li>Finished software emulation for the FPGA</li>
								<ul><li>Work on the testing of such, plan to use MatLab and check the outputs</li></ul>
								<li>Ran quick smoke tests and will get into the higher level testing</li>
								<li>Physical test for the ILB</li>
								<li>Generated the Bit Stream</li>
								<li>Powershell script to test the ILB, reading the input file and creating the 
									output file to test it against</li>
								<li>GitHub page for the repository, organize the GitHub</li>
							</ul>
						</dt>
						</ol>
					</article>

					<article>
						<header>
							<h3><a href="#">January 27, 2020</a></h3>
						</header>
						<ol> <dt>
							<ul>
								<li>Develop a software model for the FPGA</li>
								<li>UART protocol complete, can communicate with the PC</li>
								<li>C++ has better file io than Verilog so this can be exploited</li>
								<li>Write a tickle script for simulations for wave debugging</li>
								<ul><li>Log all signals from the very beginning</li></ul>
								<li>Hopefully verify and test, combine ILB and SOPU together to test</li>
								<li>Using different clocks can result in timing violations, if you simulate 
									the chip well enough you can find errors</li>
								<ul><li>Hassle to figure out what is wrong with the FPGA</li></ul>
								<li>Target for next week: C++ software model done, start hardware software post simulation
									and integrate those, hardware test the ILB, create new rtl to create a direction connection
									that can read and write the values at the same time, test the hardware</li>
							</ul>
						</dt>
						</ol>
					</article>

					<article>
						<header>
							<h3><a href="#">Novermber 21, 2019</a></h3>
						</header>
						<ol> <dt> 
							<ul>
								<li>Animations agreed upon, set to finish before senior project presentations</li>
								<ul><li>Paul is trying to get serial communication working, still Linux based</li>
								<li>Ran program he wrote, would return the character T, or it would time out and not return anything, seemed random</li>
								<li>Possible explanation: non-blocking will just come back, should not time out, can return null </li>
								<li>Check the results, do nonclocking and see how much valid data is present, reading raw bytes from a byte stream</li>
							</ul>	
						</ul>
						</dt>
						</ol>
					</article>

					<article>
						<header>
							<h3><a href="#">Novermber 14, 2019</a></h3>
						</header>
						<ol> <dt>
							<ul>
								<li>Self check is finished, random number generator will be used to test</li>
								<li>Error with ILB fixed, memory spaces were too big</li>
								<li>SOPU is in the testing phase</li>
								<li>Integration and unit testing</li>
								<li>Work on the documentation</li>
								<li>What speed to use for UART?</li>
								<ul>
									<li>9600, slow, stalls for new data but at least it works</li></ul>
								<li>Port to Windows, having Linux issues</li>
								<li>Linux on FPGA, FTDI chip</li>
								<li>Get numbers on FPGA utilization, figure out the resources required</li>
							</ul>		
						</dt>
						</ol>
					</article>

					<article>
						<header>
							<h3><a href="#">October 31, 2019</a></h3>
						</header>
						<ol> <dt>
							<ul>
								<li>Update architecture document</li>
								<li>Implement Ryan’s new design and test with Hussain</li>
								<li>Serial port is working</li>
								<li>Line buffer synchronization</li>
								<li>Must get the interface to work</li>
								<li>Create more efficient test benches</li>
								<ul>
									<li>Issue pass/fail</li>
									<li>Create random data to test</li>
									<li>Self checking test</li>
							</ul>
							</ul>
						</dt>
						</ol>
					</article>

					<article>
						<header>
							<h3><a href="#">October 24, 2019</a></h3>
						</header>
						<ol> <dt>
							<ul>
								<li>Write program to read data from the stream</li>
									<ul>
										<li>Fread to read in the entire file into the array</li>
										<li>Convert text file</li>
										<li>512x512, MatLab to read in files iamread</li>
										<li>Take the array that you read and convert to csv file</li>
									<li>Flatten the array ; ) -- converts any number</li>
									</ul>
									<li>Black white pixels, all 0’s, all 255’s, simple patterns</li>
									<li>Architecture document has been updated</li>
									<li>Make a gif of pixel movement</li>
							</ul>
						</dt>
						</ol>
					</article>

					<article>
						<header>
							<h3><a href="#">October 3, 2019</a></h3>
						</header>
						<ol> <dt> 
							<ul>
								<li>RTS- Request to send, transmit side</li>
								<li>More block diagrams and images</li>
								<li>BRAM block complete, work on testing this</li>
								<li>Potentially create timing diagrams, hand drawing cycles</li>
								<li>Not using very much memory</li>
								<li>Need to make more progress, particularly on the software side</li>
								<li>Working on the fixed point multiplier for the convolution unit</li>
							</ul>
						</dt>
						</ol>
					</article>

					<article>
						<header>
							<h3><a href="#">September 12, 2019</a></h3>
						</header>
						<ol> <dt> 
							<ul>
								<li>Top level diagram should be completed</li>
								<ul><li>Drawing that shows connectivity</li></ul>
								<li>Create standard naming convention</li>
								<li>Prototypes for blocks by 9/19/2019, finalize hardware documentation by 9/26/2019</li>
							</ul>
						</dt>
						</ol>
					</article>

					<article>
						<header>
							<h3><a href="#">September 4, 2019</a></h3>
						</header>
						<ol> <dt>
							<ul> 
								<li> More verification, SoPU changes have been made</li> 
								<li>Tested with floating point in MatLab</li>
							</ul>
						</dt>
						</ol>
					</article>

					<article>
						<header>
							<h3><a href="#">September 2, 2019</a></h3>
						</header>
						<ol> <dt>
							<ul>
								<li>Changing image size to 512x512x3</li>
								<ul>
									<li>This is what most conv nets use, not bottlenecked by memory</li>
								</ul>
								<li>Maintain Kernel size of 7x7</li>
							</ul>
						</dt>
					   </ol>
					</article>

					<article>
						<header>
							<h3><a href="#">August 29, 2019</a></h3>
						</header>
						<ol> <dt>
							<ul>
								<li>Started working on C-based image parser, breaking the image down, 
									streaming image, pseudocode for that</li>
								<li>How do you drive a UART controller from a c program?</li>
								<ul>
									<li>Linux based; tty logical device</li>
								<li>Break up image, get raw bytes, distribute those</li>
								<li>Use GCC</li>
								</ul>
								<li>Suggestions from Dr. Pearlstein</li>
								<ul>
									<li>Use 16 bit number for quantization and noise</li>
									<li>What is the dynamic range? You can always scale it finding min and max, preprocess and normalize</li>
								<li>Chunky vs Planar: With line buffers you want it to be chunky</li>
								<li>Avoid saturation to the best of our ability</ul>

								</ul>
							</ul>
						</dt>
					   </ol>
					</article>

					<article>
						<header>
							<h3><a href="#">July 28, 2019</a></h3>
						</header>
						<ol> <dt>
							<ul>
								<li>Transmission medium should be USB/UART</li>
								<li>Total RAM: 500 kilobytes</li>
								<li>Requirements (for your customer)</li>
								<ul>
									<li>Image: 512x512x3 input initial</li>
									<li>“Same” setting initial, “valid” setting stretch</li>
								</ul>
								<li>Kernel: 7x7x3 size initial</li>
								<li>Coefficients are Q0.15 fixed point</li>
								<li>Output: 1 feature map initial, n feature maps stretch</li>
								<li>UI: fileIO user program initial, API stretch </li>
								<li>Specifications</li>
								<ul>
									<li>Specify hardware, clock rate, BAUD rate ?</li>
									<li>USB and serial</li>
									<li>R0B0G0 (ex. to send pixels) byte by byte</li>
							</ul>
							</ul>
						</dt>
					   </ol>
					</article>

					<article>
						<header>
							<h3><a href="#">July 7, 2019</a></h3>
						</header>
						<ol> <dt>
							<ul>
								<li>Should we stick to USB or would it be worth researching 
									Ethernet as a potential transmission medium?</li>
								<li>Send convolution operations through c level program, send image data, 
									communicate through USB </li>
								<ul><li>How much memory do we have on an FPGA?</li></ul>
								<li>PC keeps track of data being transmitted, FPGA just runs until it runs out of data</li>
								<li>PC Side -- Host program, written in C, in a linux environment</li>
								<li>Data transfer out of and onto the FPGA, PC image parts</li>
							</ul>
					   </ol>
					</article>

					<article>
						<header>
							<h3><a href="#">June 28, 2019</a></h3>
						</header>
						<ol> <dt>
							<ul>
								<li>Have an FPGA do an on-demand image convolution when the PC tells it to</li>
								<li>Build a convolution hardware framework using Verilog, then using (low level) 
									C have to PC send commands/image data to the FPGA</li>
								<li>Explore the implementation of neural networks in FPGAs</li>
								<ul>
									<li>Map out resource usage, latency for deep neural network architectures and hyperparameters</li>
									<li>Latency refers to the total time (typically expressed in units of “clocks”), 
									required for a single iteration of the algorithm to complete</li>
									<li>Demonstrate deep learning techniques in FPGA applications</li>
									</ul>
							</ul>
						</dt>
					   </ol>
					</article>

					</div>
			</section>

						<!-- Footer -->
						<div id="footer">
							<div class="container">
										<!-- Copyright -->
											<div class="copyright">
												<ul class="menu">
													<li>&copy; Untitled. All rights reserved.</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
												</ul>
											</div>
						</div>
				</div>

				<!-- Scripts -->
					<script src="assets/js/jquery.min.js"></script>
					<script src="assets/js/jquery.dropotron.min.js"></script>
					<script src="assets/js/jquery.scrolly.min.js"></script>
					<script src="assets/js/jquery.scrollex.min.js"></script>
					<script src="assets/js/browser.min.js"></script>
					<script src="assets/js/breakpoints.min.js"></script>
					<script src="assets/js/util.js"></script>
					<script src="assets/js/main.js"></script>

			</body>
		</html>
